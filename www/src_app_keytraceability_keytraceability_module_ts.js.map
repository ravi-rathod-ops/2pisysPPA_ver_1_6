{"version":3,"file":"src_app_keytraceability_keytraceability_module_ts.js","mappings":"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","sources":["./src/app/keytraceability/keytraceability-routing.module.ts","./src/app/keytraceability/keytraceability.module.ts","./src/app/keytraceability/keytraceability.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { KeytraceabilityPage } from './keytraceability.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: KeytraceabilityPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class KeytraceabilityPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { KeytraceabilityPageRoutingModule } from './keytraceability-routing.module';\n\nimport { KeytraceabilityPage } from './keytraceability.page';\n\n// import { PdfViewerModule } from 'ng2-pdf-viewer';\nimport { YoutubePipe } from '../youtube.pipe';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    KeytraceabilityPageRoutingModule,\n    // PdfViewerModule\n  ],\n  declarations: [KeytraceabilityPage,YoutubePipe]\n})\nexport class KeytraceabilityPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { BarcodeScanner } from '@ionic-native/barcode-scanner';\nimport { HttpClient } from '@angular/common/http';\nimport { LoadingController } from '@ionic/angular';\nimport { ToastController } from '@ionic/angular';\nimport { Router } from '@angular/router';\nimport {  IonInput } from '@ionic/angular';\n\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\n\nimport { InAppBrowser, InAppBrowserOptions } from '@ionic-native/in-app-browser/ngx';\nimport { Printer,PrintOptions } from '@ionic-native/printer/ngx/index';\n\n@Component({\n  selector: 'app-keytraceability',\n  templateUrl: './keytraceability.page.html',\n  styleUrls: ['./keytraceability.page.scss'],\n})\nexport class KeytraceabilityPage implements OnInit {\n\n  brandImage=\"\";\n  planid: any=\"\";\n  datapass: any={};\n  dataUrl=localStorage.getItem('url');  \n  framelink=\"\";\n  constructor(public inappbrowser:InAppBrowser,private printer: Printer,private http: HttpClient,public loadingController: LoadingController,public toastController: ToastController,private router: Router,private formBuilder: FormBuilder) { }\n\n  ngOnInit() {\n    this.brandImage=localStorage.getItem('brandImage');   \n    this.getlink();\n  }\n\n\n async getlink(){\n  const loading = await this.loadingController.create({\n    cssClass: 'my-custom-class',\n    message: 'Please wait...',\n    // duration: 2000,\n    spinner:'dots'\n  });\n\n  const headers = { \n    'auth-id': localStorage.getItem('authid'), \n    'client-id': localStorage.getItem('clientid'),\n    'user': localStorage.getItem('userid'),\n    'password':localStorage.getItem('password') } \n    this.http.get<any>(this.dataUrl+'/api/reportlinks/keytrace',{headers}).subscribe({\n      next: async data => {\n        this.datapass=data.message[0];   \n        console.log(data)    \n        loading.dismiss(); \n        this.scan();\n      },\n      error: errordata => {\n        if(errordata.error.message){\n        loading.dismiss();                   \n        this.toastfunction(errordata.error.message,\"danger\");  \n        }\n        else{\n          this.toastfunction(\"Invalid Company Url, Please Check in Home page\",\"danger\");\n          loading.dismiss();  \n        }          \n      }\n    });\n\n }\n \n  async scan() {\n    const data = await BarcodeScanner.scan();\n    // const loading = await this.loadingController.create({\n    //   cssClass: 'my-custom-class',\n    //   message: 'Please wait...',\n    //   // duration: 2000,\n    //   spinner:'dots'\n    // });\n    \n    // if(data.text.length > 0)\n    // {\n    //   await loading.present();\n    //   const headers = { \n    //     'auth-id': localStorage.getItem('authid'), \n    //     'client-id': localStorage.getItem('clientid'),\n    //     'user': localStorage.getItem('userid'),\n    //     'password':localStorage.getItem('password') }\n    //     this.planid=data.text;\n    //   this.http.get<any>(this.dataUrl+'/api/reportlinks/keytrace/'+data.text,{headers}).subscribe({\n    //     next: async data => {\n    //       this.datapass=data.message[0];\n    //       let url = this.datapass.link;\n    //       url=url.replace(\"{{1}}\",this.planid);\n    //       window.open(url);           \n    //       loading.dismiss(); \n    //     },\n    //     error: errordata => {\n    //       if(errordata.error.message){\n    //       loading.dismiss();                   \n    //       this.toastfunction(errordata.error.message,\"danger\");  \n    //       }\n    //       else{\n    //         this.toastfunction(\"Invalid Company Url, Please Check in Home page\",\"danger\");\n    //         loading.dismiss();  \n    //       }          \n    //     }\n    //   });\n\n    // }\n\n\n    if(data.text.length > 0){\n      this.datapass.link=this.datapass.link.replace(\"{{1}}\",data.text);\n      this.datapass.link= this.datapass.credentials == 1 ? this.datapass.link+\"?user=\"+localStorage.getItem('userid')+\"&pass=\"+localStorage.getItem('password') : this.datapass.link=this.datapass.link; \n      this.framelink=this.datapass.link;\n      // window.open(this.datapass.link);    \n    }\n   \n  }\n\n\n  async sendData()\n  {\n   \n    // const loading = await this.loadingController.create({\n    //   cssClass: 'my-custom-class',\n    //   message: 'Please wait...',\n    //   // duration: 2000,\n    //   spinner:'dots'\n    // });\n    \n    // if(this.planid.length > 0)\n    // {\n    //   await loading.present();\n    //   const headers = { \n    //     'auth-id': localStorage.getItem('authid'), \n    //     'client-id': localStorage.getItem('clientid'),\n    //     'user': localStorage.getItem('userid'),\n    //     'password':localStorage.getItem('password') }\n      \n\n    //   this.http.get<any>(this.dataUrl+'/api/reportlinks/keytrace',{headers}).subscribe({\n    //     next: async data => {\n    //       this.datapass=data.message[0];          \n    //       let url = this.datapass.link;\n    //       url=url.replace(\"{{1}}\",this.planid);\n    //       window.open(url);\n    //       loading.dismiss(); \n    //     },\n    //     error: errordata => {\n    //       if(errordata.error.message){\n    //       loading.dismiss();                   \n    //       this.toastfunction(errordata.error.message,\"danger\");            \n    //       }\n    //       else{\n    //         this.toastfunction(\"Invalid Company Url, Please Check in Home page\",\"danger\");\n    //         loading.dismiss();  \n    //       }          \n    //     }\n    //   });\n\n    // }\n\n    if(this.planid.length > 0)\n    {     \n      this.datapass.link=this.datapass.link.replace(\"{{1}}\",this.planid);\n      this.datapass.link= this.datapass.credentials == 1 ? this.datapass.link+\"?user=\"+localStorage.getItem('userid')+\"&pass=\"+localStorage.getItem('password') : this.datapass.link=this.datapass.link; \n      this.framelink=this.datapass.link;\n      // window.open(this.datapass.link);    \n\n    }\n  }\n\n\n  print()\n  {\n    this.printer.print(); \n  }\n\n  \n  async toastfunction(msg,colour)\n  {\n    const toast = await this.toastController.create({\n      message: msg,\n      duration: 2000,\n      position: 'bottom',\n      animated:true,\n      color:colour\n    });\n\n    toast.present();\n  }\n\n\n\n}\n"],"names":[],"sourceRoot":"webpack:///"}